
 RUN  v3.2.4 /home/birdman/RooKnowledge/Roo-Code-Knowledge/src



⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  services/glob/__tests__/list-files.spec.ts [ services/glob/__tests__/list-files.spec.ts ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 ❯ services/glob/__tests__/list-files.spec.ts:3:1
      1| import * as path from "path"
      2| import * as childProcess from "child_process"
      3| import { listFiles } from "../list-files"
       | ^
      4| 
      5| vi.mock("child_process")

Caused by: Error: Transform failed with 1 error:
/home/birdman/RooKnowledge/Roo-Code-Knowledge/src/services/glob/list-files.ts:504:11: ERROR: The symbol "isHiddenDir" has already been declared
  Plugin: vite:esbuild
  File: /home/birdman/RooKnowledge/Roo-Code-Knowledge/src/services/glob/list-files.ts:504:11
  
  The symbol "isHiddenDir" has already been declared
  502|  					// Don't recurse into hidden directories unless they are the explicit target
  503|  					// or we're already inside an explicitly targeted hidden directory
  504|  					const isHiddenDir = dirName.startsWith(".")
     |             ^
  505|  
  506|  					// Use the same logic as shouldIncludeDirectory for recursion decisions
  
 ❯ failureErrorWithLog ../node_modules/.pnpm/esbuild@0.25.9/node_modules/esbuild/lib/main.js:1467:15
 ❯ ../node_modules/.pnpm/esbuild@0.25.9/node_modules/esbuild/lib/main.js:736:50
 ❯ responseCallbacks.<computed> ../node_modules/.pnpm/esbuild@0.25.9/node_modules/esbuild/lib/main.js:603:9
 ❯ handleIncomingPacket ../node_modules/.pnpm/esbuild@0.25.9/node_modules/esbuild/lib/main.js:658:12
 ❯ Socket.readFromStdout ../node_modules/.pnpm/esbuild@0.25.9/node_modules/esbuild/lib/main.js:581:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯


 Test Files  1 failed (1)
      Tests  no tests
   Start at  17:18:54
   Duration  296ms (transform 64ms, setup 50ms, collect 0ms, tests 0ms, environment 0ms, prepare 63ms)

