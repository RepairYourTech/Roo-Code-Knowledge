{
  "version": 3,
  "file": "browser-panel.js",
  "sources": [
    "../../../../node_modules/.pnpm/lucide-react@0.518.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/arrow-left.js",
    "../../../../node_modules/.pnpm/lucide-react@0.518.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/chevrons-left.js",
    "../../../../node_modules/.pnpm/lucide-react@0.518.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/chevrons-right.js",
    "../../../../node_modules/.pnpm/lucide-react@0.518.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/external-link.js",
    "../../../../webview-ui/src/components/chat/BrowserSessionRow.tsx",
    "../../../../webview-ui/src/components/browser-session/BrowserPanelStateProvider.tsx",
    "../../../../webview-ui/src/components/browser-session/BrowserSessionPanel.tsx",
    "../../../../webview-ui/src/browser-panel.tsx"
  ],
  "sourcesContent": [
    "/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n",
    "/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m11 17-5-5 5-5\", key: \"13zhaf\" }],\n  [\"path\", { d: \"m18 17-5-5 5-5\", key: \"h8a8et\" }]\n];\nconst ChevronsLeft = createLucideIcon(\"chevrons-left\", __iconNode);\n\nexport { __iconNode, ChevronsLeft as default };\n//# sourceMappingURL=chevrons-left.js.map\n",
    "/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m6 17 5-5-5-5\", key: \"xnjwq\" }],\n  [\"path\", { d: \"m13 17 5-5-5-5\", key: \"17xmmf\" }]\n];\nconst ChevronsRight = createLucideIcon(\"chevrons-right\", __iconNode);\n\nexport { __iconNode, ChevronsRight as default };\n//# sourceMappingURL=chevrons-right.js.map\n",
    "/**\n * @license lucide-react v0.518.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n",
    "import React, { memo, useEffect, useMemo, useRef, useState } from \"react\"\nimport deepEqual from \"fast-deep-equal\"\nimport { useTranslation } from \"react-i18next\"\nimport type { ClineMessage } from \"@roo-code/types\"\n\nimport { BrowserAction, BrowserActionResult, ClineSayBrowserAction } from \"@roo/ExtensionMessage\"\n\nimport { vscode } from \"@src/utils/vscode\"\nimport { useExtensionState } from \"@src/context/ExtensionStateContext\"\n\nimport CodeBlock from \"../common/CodeBlock\"\nimport { ProgressIndicator } from \"./ProgressIndicator\"\nimport { Button, StandardTooltip } from \"@src/components/ui\"\nimport { getViewportCoordinate as getViewportCoordinateShared, prettyKey } from \"@roo/browserUtils\"\nimport {\n\tGlobe,\n\tPointer,\n\tSquareTerminal,\n\tMousePointer as MousePointerIcon,\n\tKeyboard,\n\tArrowDown,\n\tArrowUp,\n\tPlay,\n\tCheck,\n\tMaximize2,\n\tOctagonX,\n\tArrowLeft,\n\tArrowRight,\n\tChevronsLeft,\n\tChevronsRight,\n\tExternalLink,\n\tCopy,\n} from \"lucide-react\"\n\nconst getBrowserActionText = (\n\taction: BrowserAction,\n\texecutedCoordinate?: string,\n\tcoordinate?: string,\n\ttext?: string,\n\tsize?: string,\n\tviewportWidth?: number,\n\tviewportHeight?: number,\n) => {\n\t// Helper to scale coordinates from screenshot dimensions to viewport dimensions\n\t// Matches the backend's scaleCoordinate function logic\n\tconst getViewportCoordinate = (coord?: string): string =>\n\t\tgetViewportCoordinateShared(coord, viewportWidth ?? 0, viewportHeight ?? 0)\n\n\tswitch (action) {\n\t\tcase \"launch\":\n\t\t\treturn `Launched browser`\n\t\tcase \"click\":\n\t\t\treturn `Clicked at: ${executedCoordinate || getViewportCoordinate(coordinate)}`\n\t\tcase \"type\":\n\t\t\treturn `Typed: ${text}`\n\t\tcase \"press\":\n\t\t\treturn `Pressed key: ${prettyKey(text)}`\n\t\tcase \"scroll_down\":\n\t\t\treturn \"Scrolled down\"\n\t\tcase \"scroll_up\":\n\t\t\treturn \"Scrolled up\"\n\t\tcase \"hover\":\n\t\t\treturn `Hovered at: ${executedCoordinate || getViewportCoordinate(coordinate)}`\n\t\tcase \"resize\":\n\t\t\treturn `Resized to: ${size?.split(/[x,]/).join(\" x \")}`\n\t\tcase \"close\":\n\t\t\treturn \"Closed browser\"\n\t\tdefault:\n\t\t\treturn action\n\t}\n}\n\nconst getActionIcon = (action: BrowserAction) => {\n\tswitch (action) {\n\t\tcase \"click\":\n\t\t\treturn <MousePointerIcon className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"type\":\n\t\tcase \"press\":\n\t\t\treturn <Keyboard className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"scroll_down\":\n\t\t\treturn <ArrowDown className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"scroll_up\":\n\t\t\treturn <ArrowUp className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"launch\":\n\t\t\treturn <Play className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"close\":\n\t\t\treturn <Check className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"resize\":\n\t\t\treturn <Maximize2 className=\"w-4 h-4 opacity-80\" />\n\t\tcase \"hover\":\n\t\tdefault:\n\t\t\treturn <Pointer className=\"w-4 h-4 opacity-80\" />\n\t}\n}\n\ninterface BrowserSessionRowProps {\n\tmessages: ClineMessage[]\n\tisExpanded: (messageTs: number) => boolean\n\tonToggleExpand: (messageTs: number) => void\n\tlastModifiedMessage?: ClineMessage\n\tisLast: boolean\n\tonHeightChange?: (isTaller: boolean) => void\n\tisStreaming: boolean\n\tonExpandChange?: (expanded: boolean) => void\n\tfullScreen?: boolean\n\t// Optional props for standalone panel (when not using ExtensionStateContext)\n\tbrowserViewportSizeProp?: string\n\tisBrowserSessionActiveProp?: boolean\n\t// Optional: navigate to a specific page index (used by Browser Session panel)\n\tnavigateToPageIndex?: number\n}\n\nconst BrowserSessionRow = memo((props: BrowserSessionRowProps) => {\n\tconst { messages, isLast, onHeightChange, lastModifiedMessage, onExpandChange, fullScreen } = props\n\tconst { t } = useTranslation()\n\tconst prevHeightRef = useRef(0)\n\tconst [consoleLogsExpanded, setConsoleLogsExpanded] = useState(false)\n\tconst [nextActionsExpanded, setNextActionsExpanded] = useState(false)\n\tconst [logFilter, setLogFilter] = useState<\"all\" | \"debug\" | \"info\" | \"warn\" | \"error\" | \"log\">(\"all\")\n\t// Track screenshot container size for precise cursor positioning with object-fit: contain\n\tconst screenshotRef = useRef<HTMLDivElement>(null)\n\tconst [sW, setSW] = useState(0)\n\tconst [sH, setSH] = useState(0)\n\n\t// Auto-expand drawer when in fullScreen takeover mode so content is visible immediately\n\tuseEffect(() => {\n\t\tif (fullScreen) {\n\t\t\tsetNextActionsExpanded(true)\n\t\t}\n\t}, [fullScreen])\n\n\t// Observe screenshot container size to align cursor correctly with letterboxing\n\tuseEffect(() => {\n\t\tconst el = screenshotRef.current\n\t\tif (!el) return\n\t\tconst update = () => {\n\t\t\tconst r = el.getBoundingClientRect()\n\t\t\tsetSW(r.width)\n\t\t\tsetSH(r.height)\n\t\t}\n\t\tupdate()\n\t\tconst ro =\n\t\t\ttypeof window !== \"undefined\" && \"ResizeObserver\" in window ? new ResizeObserver(() => update()) : null\n\t\tif (ro) ro.observe(el)\n\t\treturn () => {\n\t\t\tif (ro) ro.disconnect()\n\t\t}\n\t}, [])\n\n\t// Try to use ExtensionStateContext if available, otherwise use props\n\tlet browserViewportSize = props.browserViewportSizeProp || \"900x600\"\n\tlet isBrowserSessionActive = props.isBrowserSessionActiveProp || false\n\n\ttry {\n\t\tconst extensionState = useExtensionState()\n\t\tbrowserViewportSize = extensionState.browserViewportSize || \"900x600\"\n\t\tisBrowserSessionActive = extensionState.isBrowserSessionActive || false\n\t} catch (_e) {\n\t\t// Not in ExtensionStateContext, use props\n\t}\n\n\tconst [viewportWidth, viewportHeight] = browserViewportSize.split(\"x\").map(Number)\n\tconst defaultMousePosition = `${Math.round(viewportWidth / 2)},${Math.round(viewportHeight / 2)}`\n\n\tconst isLastApiReqInterrupted = useMemo(() => {\n\t\t// Check if last api_req_started is cancelled\n\t\tconst lastApiReqStarted = [...messages].reverse().find((m) => m.say === \"api_req_started\")\n\t\tif (lastApiReqStarted?.text) {\n\t\t\tconst info = JSON.parse(lastApiReqStarted.text) as { cancelReason: string | null }\n\t\t\tif (info && info.cancelReason !== null) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\tconst lastApiReqFailed = isLast && lastModifiedMessage?.ask === \"api_req_failed\"\n\t\tif (lastApiReqFailed) {\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}, [messages, lastModifiedMessage, isLast])\n\n\tconst isBrowsing = useMemo(() => {\n\t\treturn isLast && messages.some((m) => m.say === \"browser_action_result\") && !isLastApiReqInterrupted // after user approves, browser_action_result with \"\" is sent to indicate that the session has started\n\t}, [isLast, messages, isLastApiReqInterrupted])\n\n\t// Organize messages into pages based on ALL browser actions (including those without screenshots)\n\tconst pages = useMemo(() => {\n\t\tconst result: {\n\t\t\turl?: string\n\t\t\tscreenshot?: string\n\t\t\tmousePosition?: string\n\t\t\tconsoleLogs?: string\n\t\t\taction?: ClineSayBrowserAction\n\t\t\tsize?: string\n\t\t\tviewportWidth?: number\n\t\t\tviewportHeight?: number\n\t\t}[] = []\n\n\t\t// Build pages from browser_action messages and pair with results\n\t\tmessages.forEach((message) => {\n\t\t\tif (message.say === \"browser_action\") {\n\t\t\t\ttry {\n\t\t\t\t\tconst action = JSON.parse(message.text || \"{}\") as ClineSayBrowserAction\n\t\t\t\t\t// Find the corresponding result message\n\t\t\t\t\tconst resultMessage = messages.find(\n\t\t\t\t\t\t(m) => m.say === \"browser_action_result\" && m.ts > message.ts && m.text !== \"\",\n\t\t\t\t\t)\n\n\t\t\t\t\tif (resultMessage) {\n\t\t\t\t\t\tconst resultData = JSON.parse(resultMessage.text || \"{}\") as BrowserActionResult\n\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\turl: resultData.currentUrl,\n\t\t\t\t\t\t\tscreenshot: resultData.screenshot,\n\t\t\t\t\t\t\tmousePosition: resultData.currentMousePosition,\n\t\t\t\t\t\t\tconsoleLogs: resultData.logs,\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\tsize: action.size,\n\t\t\t\t\t\t\tviewportWidth: resultData.viewportWidth,\n\t\t\t\t\t\t\tviewportHeight: resultData.viewportHeight,\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// For actions without results (like close), add a page without screenshot\n\t\t\t\t\t\tresult.push({ action, size: action.size })\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\t// ignore parse errors\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\t// Add placeholder page if no actions yet\n\t\tif (result.length === 0) {\n\t\t\tresult.push({})\n\t\t}\n\n\t\treturn result\n\t}, [messages])\n\n\t// Page index + user navigation guard (don't auto-jump while exploring history)\n\tconst [currentPageIndex, setCurrentPageIndex] = useState(0)\n\tconst hasUserNavigatedRef = useRef(false)\n\tconst didInitIndexRef = useRef(false)\n\tconst prevPagesLengthRef = useRef(0)\n\n\tuseEffect(() => {\n\t\t// Initialize to last page on mount\n\t\tif (!didInitIndexRef.current && pages.length > 0) {\n\t\t\tdidInitIndexRef.current = true\n\t\t\tsetCurrentPageIndex(pages.length - 1)\n\t\t\tprevPagesLengthRef.current = pages.length\n\t\t\treturn\n\t\t}\n\n\t\t// Auto-advance if user is on the most recent step and a new step arrives\n\t\tif (pages.length > prevPagesLengthRef.current) {\n\t\t\tconst wasOnLastPage = currentPageIndex === prevPagesLengthRef.current - 1\n\t\t\tif (wasOnLastPage && !hasUserNavigatedRef.current) {\n\t\t\t\t// User was on the most recent step, auto-advance to the new step\n\t\t\t\tsetCurrentPageIndex(pages.length - 1)\n\t\t\t}\n\t\t\tprevPagesLengthRef.current = pages.length\n\t\t}\n\t}, [pages.length, currentPageIndex])\n\n\t// External navigation request (from panel host)\n\t// Only navigate when navigateToPageIndex actually changes, not when pages.length changes\n\tconst prevNavigateToPageIndexRef = useRef<number | undefined>()\n\tuseEffect(() => {\n\t\tif (\n\t\t\ttypeof props.navigateToPageIndex === \"number\" &&\n\t\t\tprops.navigateToPageIndex !== prevNavigateToPageIndexRef.current &&\n\t\t\tpages.length > 0\n\t\t) {\n\t\t\tconst idx = Math.max(0, Math.min(pages.length - 1, props.navigateToPageIndex))\n\t\t\tsetCurrentPageIndex(idx)\n\t\t\t// Only reset manual navigation guard if navigating to the last page\n\t\t\t// This allows auto-advance to work when clicking to the most recent step\n\t\t\t// but prevents unwanted auto-advance when viewing historical steps\n\t\t\tif (idx === pages.length - 1) {\n\t\t\t\thasUserNavigatedRef.current = false\n\t\t\t}\n\t\t\tprevNavigateToPageIndexRef.current = props.navigateToPageIndex\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [props.navigateToPageIndex])\n\n\t// Get initial URL from launch message\n\tconst initialUrl = useMemo(() => {\n\t\tconst launchMessage = messages.find((m) => m.ask === \"browser_action_launch\")\n\t\treturn launchMessage?.text || \"\"\n\t}, [messages])\n\n\tconst currentPage = pages[currentPageIndex]\n\n\t// Use actual viewport dimensions from result if available, otherwise fall back to settings\n\n\t// Find the last available screenshot and its associated data to use as placeholders\n\tconst lastPageWithScreenshot = useMemo(() => {\n\t\tfor (let i = pages.length - 1; i >= 0; i--) {\n\t\t\tif (pages[i].screenshot) {\n\t\t\t\treturn pages[i]\n\t\t\t}\n\t\t}\n\t\treturn undefined\n\t}, [pages])\n\n\t// Find last mouse position up to current page (not from future pages)\n\tconst lastPageWithMousePositionUpToCurrent = useMemo(() => {\n\t\tfor (let i = currentPageIndex; i >= 0; i--) {\n\t\t\tif (pages[i].mousePosition) {\n\t\t\t\treturn pages[i]\n\t\t\t}\n\t\t}\n\t\treturn undefined\n\t}, [pages, currentPageIndex])\n\n\t// Display state from current page, with smart fallbacks\n\tconst displayState = {\n\t\turl: currentPage?.url || initialUrl,\n\t\tmousePosition:\n\t\t\tcurrentPage?.mousePosition || lastPageWithMousePositionUpToCurrent?.mousePosition || defaultMousePosition,\n\t\tconsoleLogs: currentPage?.consoleLogs,\n\t\tscreenshot: currentPage?.screenshot || lastPageWithScreenshot?.screenshot,\n\t}\n\n\t// Parse logs for counts and filtering\n\tconst parsedLogs = useMemo(() => {\n\t\tconst counts = { debug: 0, info: 0, warn: 0, error: 0, log: 0 }\n\t\tconst byType: Record<\"debug\" | \"info\" | \"warn\" | \"error\" | \"log\", string[]> = {\n\t\t\tdebug: [],\n\t\t\tinfo: [],\n\t\t\twarn: [],\n\t\t\terror: [],\n\t\t\tlog: [],\n\t\t}\n\t\tconst raw = displayState.consoleLogs || \"\"\n\t\traw.split(/\\r?\\n/).forEach((line) => {\n\t\t\tconst trimmed = line.trim()\n\t\t\tif (!trimmed) return\n\t\t\tconst m = /^\\[([^\\]]+)\\]\\s*/i.exec(trimmed)\n\t\t\tlet type = (m?.[1] || \"\").toLowerCase()\n\t\t\tif (type === \"warning\") type = \"warn\"\n\t\t\tif (![\"debug\", \"info\", \"warn\", \"error\", \"log\"].includes(type)) type = \"log\"\n\t\t\tcounts[type as keyof typeof counts]++\n\t\t\tbyType[type as keyof typeof byType].push(line)\n\t\t})\n\t\treturn { counts, byType }\n\t}, [displayState.consoleLogs])\n\n\tconst logsToShow = useMemo(() => {\n\t\tif (!displayState.consoleLogs) return t(\"chat:browser.noNewLogs\") as string\n\t\tif (logFilter === \"all\") return displayState.consoleLogs\n\t\tconst arr = parsedLogs.byType[logFilter]\n\t\treturn arr.length ? arr.join(\"\\n\") : (t(\"chat:browser.noNewLogs\") as string)\n\t}, [displayState.consoleLogs, logFilter, parsedLogs, t])\n\n\t// Meta for log badges (include \"All\" first)\n\tconst logTypeMeta = [\n\t\t{ key: \"all\", label: \"All\" },\n\t\t{ key: \"debug\", label: \"Debug\" },\n\t\t{ key: \"info\", label: \"Info\" },\n\t\t{ key: \"warn\", label: \"Warn\" },\n\t\t{ key: \"error\", label: \"Error\" },\n\t\t{ key: \"log\", label: \"Log\" },\n\t] as const\n\n\t// Use a fixed standard aspect ratio and dimensions for the drawer to prevent flickering\n\t// Even if viewport changes, the drawer maintains consistent size\n\tconst fixedDrawerWidth = 900\n\tconst fixedDrawerHeight = 600\n\tconst drawerAspectRatio = (fixedDrawerHeight / fixedDrawerWidth) * 100\n\n\t// For cursor positioning, use the viewport dimensions from the same page as the data we're displaying\n\t// This ensures cursor position matches the screenshot/mouse position being shown\n\tlet cursorViewportWidth: number\n\tlet cursorViewportHeight: number\n\n\tif (currentPage?.screenshot) {\n\t\t// Current page has screenshot - use its dimensions\n\t\tcursorViewportWidth = currentPage.viewportWidth ?? viewportWidth\n\t\tcursorViewportHeight = currentPage.viewportHeight ?? viewportHeight\n\t} else if (lastPageWithScreenshot) {\n\t\t// Using placeholder screenshot - use dimensions from that page\n\t\tcursorViewportWidth = lastPageWithScreenshot.viewportWidth ?? viewportWidth\n\t\tcursorViewportHeight = lastPageWithScreenshot.viewportHeight ?? viewportHeight\n\t} else {\n\t\t// No screenshot available - use default settings\n\t\tcursorViewportWidth = viewportWidth\n\t\tcursorViewportHeight = viewportHeight\n\t}\n\n\t// Get browser action for current page (now stored in pages array)\n\tconst currentPageAction = useMemo(() => {\n\t\treturn pages[currentPageIndex]?.action\n\t}, [pages, currentPageIndex])\n\n\t// Latest non-close browser_action for header summary (fallback)\n\n\tconst lastBrowserActionOverall = useMemo(() => {\n\t\tconst all = messages.filter((m) => m.say === \"browser_action\")\n\t\treturn all.at(-1)\n\t}, [messages])\n\n\t// Use actual Playwright session state from extension (not message parsing)\n\tconst isBrowserSessionOpen = isBrowserSessionActive\n\n\t// Check if a browser action is currently in flight (for spinner)\n\tconst isActionRunning = useMemo(() => {\n\t\tif (!lastBrowserActionOverall || isLastApiReqInterrupted) {\n\t\t\treturn false\n\t\t}\n\n\t\t// Find the last browser_action_result (including empty text) to detect completion\n\t\tconst lastBrowserActionResult = [...messages].reverse().find((m) => m.say === \"browser_action_result\")\n\n\t\tif (!lastBrowserActionResult) {\n\t\t\t// We have at least one action, but haven't seen any result yet\n\t\t\treturn true\n\t\t}\n\n\t\t// If the last action happened after the last result, it's still running\n\t\treturn lastBrowserActionOverall.ts > lastBrowserActionResult.ts\n\t}, [messages, lastBrowserActionOverall, isLastApiReqInterrupted])\n\n\t// Browser session drawer never auto-expands - user must manually toggle it\n\n\t// Calculate total API cost for the browser session\n\tconst totalApiCost = useMemo(() => {\n\t\tlet total = 0\n\t\tmessages.forEach((message) => {\n\t\t\tif (message.say === \"api_req_started\" && message.text) {\n\t\t\t\ttry {\n\t\t\t\t\tconst data = JSON.parse(message.text)\n\t\t\t\t\tif (data.cost && typeof data.cost === \"number\") {\n\t\t\t\t\t\ttotal += data.cost\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\t// Ignore parsing errors\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn total\n\t}, [messages])\n\n\t// Local size tracking without react-use to avoid timers after unmount in tests\n\tconst containerRef = useRef<HTMLDivElement>(null)\n\tconst [rowHeight, setRowHeight] = useState(0)\n\tuseEffect(() => {\n\t\tconst el = containerRef.current\n\t\tif (!el) return\n\t\tlet mounted = true\n\t\tconst setH = (h: number) => {\n\t\t\tif (mounted) setRowHeight(h)\n\t\t}\n\t\tconst ro =\n\t\t\ttypeof window !== \"undefined\" && \"ResizeObserver\" in window\n\t\t\t\t? new ResizeObserver((entries) => {\n\t\t\t\t\t\tconst entry = entries[0]\n\t\t\t\t\t\tsetH(entry?.contentRect?.height ?? el.getBoundingClientRect().height)\n\t\t\t\t\t})\n\t\t\t\t: null\n\t\t// initial\n\t\tsetH(el.getBoundingClientRect().height)\n\t\tif (ro) ro.observe(el)\n\t\treturn () => {\n\t\t\tmounted = false\n\t\t\tif (ro) ro.disconnect()\n\t\t}\n\t}, [])\n\n\tconst BrowserSessionHeader: React.FC = () => (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"center\",\n\t\t\t\tgap: 8,\n\t\t\t\tmarginBottom: 0,\n\t\t\t\tuserSelect: \"none\",\n\t\t\t}}>\n\t\t\t{/* Globe icon - green when browser session is open */}\n\t\t\t<Globe\n\t\t\t\tclassName=\"w-4 h-4 shrink-0\"\n\t\t\t\tstyle={{\n\t\t\t\t\topacity: 0.7,\n\t\t\t\t\tcolor: isBrowserSessionOpen ? \"#4ade80\" : undefined, // green-400 when session is open\n\t\t\t\t\tcursor: fullScreen ? \"default\" : \"pointer\",\n\t\t\t\t}}\n\t\t\t\taria-label=\"Browser interaction\"\n\t\t\t\t{...(fullScreen\n\t\t\t\t\t? {}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\tsetNextActionsExpanded((v) => {\n\t\t\t\t\t\t\t\t\tconst nv = !v\n\t\t\t\t\t\t\t\t\tonExpandChange?.(nv)\n\t\t\t\t\t\t\t\t\treturn nv\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})}\n\t\t\t/>\n\n\t\t\t{/* Simple text: \"Browser Session\" with step counter */}\n\t\t\t<span\n\t\t\t\t{...(fullScreen\n\t\t\t\t\t? {}\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\tsetNextActionsExpanded((v) => {\n\t\t\t\t\t\t\t\t\tconst nv = !v\n\t\t\t\t\t\t\t\t\tonExpandChange?.(nv)\n\t\t\t\t\t\t\t\t\treturn nv\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})}\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\tfontSize: 13,\n\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\tlineHeight: \"22px\",\n\t\t\t\t\tcolor: \"var(--vscode-editor-foreground)\",\n\t\t\t\t\tcursor: fullScreen ? \"default\" : \"pointer\",\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tgap: 8,\n\t\t\t\t}}>\n\t\t\t\t{t(\"chat:browser.session\")}\n\t\t\t\t{isActionRunning && (\n\t\t\t\t\t<span className=\"ml-1 flex items-center\" aria-hidden=\"true\">\n\t\t\t\t\t\t<ProgressIndicator />\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t{pages.length > 0 && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontSize: 11,\n\t\t\t\t\t\t\topacity: 0.6,\n\t\t\t\t\t\t\tfontWeight: 400,\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{currentPageIndex + 1}/{pages.length}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t\t{/* Inline action summary to the right, similar to ChatView */}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tdisplay: \"inline-flex\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\tgap: 6,\n\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\tcolor: \"var(--vscode-descriptionForeground)\",\n\t\t\t\t\t\tfontWeight: 400,\n\t\t\t\t\t}}>\n\t\t\t\t\t{(() => {\n\t\t\t\t\t\tconst action = currentPageAction\n\t\t\t\t\t\tconst pageSize = pages[currentPageIndex]?.size\n\t\t\t\t\t\tconst pageViewportWidth = pages[currentPageIndex]?.viewportWidth\n\t\t\t\t\t\tconst pageViewportHeight = pages[currentPageIndex]?.viewportHeight\n\t\t\t\t\t\tif (action) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{getActionIcon(action.action)}\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{getBrowserActionText(\n\t\t\t\t\t\t\t\t\t\t\taction.action,\n\t\t\t\t\t\t\t\t\t\t\taction.executedCoordinate,\n\t\t\t\t\t\t\t\t\t\t\taction.coordinate,\n\t\t\t\t\t\t\t\t\t\t\taction.text,\n\t\t\t\t\t\t\t\t\t\t\tpageSize,\n\t\t\t\t\t\t\t\t\t\t\tpageViewportWidth,\n\t\t\t\t\t\t\t\t\t\t\tpageViewportHeight,\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else if (initialUrl) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{getActionIcon(\"launch\" as any)}\n\t\t\t\t\t\t\t\t\t<span>{getBrowserActionText(\"launch\", undefined, initialUrl, undefined)}</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null\n\t\t\t\t\t})()}\n\t\t\t\t</span>\n\t\t\t</span>\n\n\t\t\t{/* Right side: cost badge and chevron */}\n\t\t\t{totalApiCost > 0 && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"text-xs text-vscode-dropdown-foreground border-vscode-dropdown-border/50 border px-1.5 py-0.5 rounded-lg\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\topacity: 0.4,\n\t\t\t\t\t\theight: \"22px\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t}}>\n\t\t\t\t\t${totalApiCost.toFixed(4)}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{/* Chevron toggle hidden in fullScreen */}\n\t\t\t{!fullScreen && (\n\t\t\t\t<span\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetNextActionsExpanded((v) => {\n\t\t\t\t\t\t\tconst nv = !v\n\t\t\t\t\t\t\tonExpandChange?.(nv)\n\t\t\t\t\t\t\treturn nv\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tclassName={`codicon ${nextActionsExpanded ? \"codicon-chevron-up\" : \"codicon-chevron-down\"}`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: 13,\n\t\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\t\tlineHeight: \"22px\",\n\t\t\t\t\t\tcolor: \"var(--vscode-editor-foreground)\",\n\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\t\t\ttransition: \"transform 150ms ease\",\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{/* Kill browser button hidden from header in fullScreen; kept in toolbar */}\n\t\t\t{isBrowserSessionOpen && !fullScreen && (\n\t\t\t\t<StandardTooltip content=\"Disconnect session\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\tvscode.postMessage({ type: \"killBrowserSession\" })\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-label=\"Disconnect session\">\n\t\t\t\t\t\t<OctagonX className=\"size-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</StandardTooltip>\n\t\t\t)}\n\t\t</div>\n\t)\n\n\tconst BrowserSessionDrawer: React.FC = () => {\n\t\tif (!nextActionsExpanded) return null\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tmarginTop: fullScreen ? 0 : 6,\n\t\t\t\t\tbackground: \"var(--vscode-editor-background)\",\n\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\tborderRadius: fullScreen ? 0 : 6,\n\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\theight: fullScreen ? \"100%\" : undefined,\n\t\t\t\t\tdisplay: fullScreen ? \"flex\" : undefined,\n\t\t\t\t\tflexDirection: fullScreen ? \"column\" : undefined,\n\t\t\t\t}}>\n\t\t\t\t{/* Browser-like Toolbar */}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tpadding: \"6px 8px\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\tgap: \"8px\",\n\t\t\t\t\t\tborderBottom: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\tbackground: \"var(--vscode-editor-background)\",\n\t\t\t\t\t}}>\n\t\t\t\t\t{/* Go to beginning */}\n\t\t\t\t\t<StandardTooltip content=\"Go to beginning\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\thasUserNavigatedRef.current = true\n\t\t\t\t\t\t\t\tsetCurrentPageIndex(0)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={currentPageIndex === 0 || isBrowsing}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: currentPageIndex === 0 || isBrowsing ? \"not-allowed\" : \"pointer\",\n\t\t\t\t\t\t\t\topacity: currentPageIndex === 0 || isBrowsing ? 0.4 : 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Go to beginning\">\n\t\t\t\t\t\t\t<ChevronsLeft className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Back */}\n\t\t\t\t\t<StandardTooltip content=\"Back\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\thasUserNavigatedRef.current = true\n\t\t\t\t\t\t\t\tsetCurrentPageIndex((i) => Math.max(0, i - 1))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={currentPageIndex === 0 || isBrowsing}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: currentPageIndex === 0 || isBrowsing ? \"not-allowed\" : \"pointer\",\n\t\t\t\t\t\t\t\topacity: currentPageIndex === 0 || isBrowsing ? 0.4 : 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Back\">\n\t\t\t\t\t\t\t<ArrowLeft className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Forward */}\n\t\t\t\t\t<StandardTooltip content=\"Forward\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\tconst nextIndex = Math.min(pages.length - 1, currentPageIndex + 1)\n\t\t\t\t\t\t\t\t// Reset user navigation flag if going to the last page\n\t\t\t\t\t\t\t\thasUserNavigatedRef.current = nextIndex !== pages.length - 1\n\t\t\t\t\t\t\t\tsetCurrentPageIndex(nextIndex)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={currentPageIndex === pages.length - 1 || isBrowsing}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: currentPageIndex === pages.length - 1 || isBrowsing ? \"not-allowed\" : \"pointer\",\n\t\t\t\t\t\t\t\topacity: currentPageIndex === pages.length - 1 || isBrowsing ? 0.4 : 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Forward\">\n\t\t\t\t\t\t\t<ArrowRight className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Go to end */}\n\t\t\t\t\t<StandardTooltip content=\"Go to end\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t// Reset user navigation flag since we're going to the most recent page\n\t\t\t\t\t\t\t\thasUserNavigatedRef.current = false\n\t\t\t\t\t\t\t\tsetCurrentPageIndex(pages.length - 1)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={currentPageIndex === pages.length - 1 || isBrowsing}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: currentPageIndex === pages.length - 1 || isBrowsing ? \"not-allowed\" : \"pointer\",\n\t\t\t\t\t\t\t\topacity: currentPageIndex === pages.length - 1 || isBrowsing ? 0.4 : 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Go to end\">\n\t\t\t\t\t\t\t<ChevronsRight className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Address Bar */}\n\t\t\t\t\t<div\n\t\t\t\t\t\trole=\"group\"\n\t\t\t\t\t\taria-label=\"Address bar\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tgap: 8,\n\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\tborderRadius: 999,\n\t\t\t\t\t\t\tpadding: \"4px 10px\",\n\t\t\t\t\t\t\tbackground: \"var(--vscode-input-background)\",\n\t\t\t\t\t\t\tcolor: \"var(--vscode-descriptionForeground)\",\n\t\t\t\t\t\t\tminHeight: 26,\n\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<Globe className=\"w-3 h-3 shrink-0 opacity-60\" />\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t\t\t\tlineHeight: \"18px\",\n\t\t\t\t\t\t\t\ttextOverflow: \"ellipsis\",\n\t\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{displayState.url || \"about:blank\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/* Step counter removed */}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Kill (Disconnect) replaces Reload */}\n\t\t\t\t\t<StandardTooltip content=\"Disconnect session\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\tvscode.postMessage({ type: \"killBrowserSession\" })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t\topacity: 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Disconnect session\">\n\t\t\t\t\t\t\t<OctagonX className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Open External */}\n\t\t\t\t\t<StandardTooltip content=\"Open in external browser\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\tif (displayState.url) {\n\t\t\t\t\t\t\t\t\tvscode.postMessage({ type: \"openExternal\", url: displayState.url })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: displayState.url ? \"pointer\" : \"not-allowed\",\n\t\t\t\t\t\t\t\topacity: displayState.url ? 0.85 : 0.4,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Open external\"\n\t\t\t\t\t\t\tdisabled={!displayState.url}>\n\t\t\t\t\t\t\t<ExternalLink className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\n\t\t\t\t\t{/* Copy URL */}\n\t\t\t\t\t<StandardTooltip content=\"Copy URL\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tawait navigator.clipboard.writeText(displayState.url || \"\")\n\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\t// ignore\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"none\",\n\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t\topacity: 0.85,\n\t\t\t\t\t\t\t\tpadding: \"4px\",\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label=\"Copy URL\">\n\t\t\t\t\t\t\t<Copy className=\"w-4 h-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</StandardTooltip>\n\t\t\t\t</div>\n\t\t\t\t{/* Screenshot Area */}\n\t\t\t\t<div\n\t\t\t\t\tdata-testid=\"screenshot-container\"\n\t\t\t\t\tref={screenshotRef}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbackgroundColor: \"var(--vscode-input-background)\",\n\t\t\t\t\t\tborderBottom: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t...(fullScreen\n\t\t\t\t\t\t\t? { flex: 1, minHeight: 0 }\n\t\t\t\t\t\t\t: { paddingBottom: `${drawerAspectRatio.toFixed(2)}%` }),\n\t\t\t\t\t}}>\n\t\t\t\t\t{displayState.screenshot ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={displayState.screenshot}\n\t\t\t\t\t\t\talt={t(\"chat:browser.screenshot\")}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\tobjectFit: \"contain\",\n\t\t\t\t\t\t\t\tobjectPosition: \"top center\",\n\t\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tvscode.postMessage({\n\t\t\t\t\t\t\t\t\ttype: \"openImage\",\n\t\t\t\t\t\t\t\t\ttext: displayState.screenshot,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\t\t\t\ttransform: \"translate(-50%, -50%)\",\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"codicon codicon-globe\"\n\t\t\t\t\t\t\t\tstyle={{ fontSize: \"80px\", color: \"var(--vscode-descriptionForeground)\" }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{displayState.mousePosition &&\n\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t// Use measured size if available; otherwise fall back to current client size so cursor remains visible\n\t\t\t\t\t\t\tconst containerW = sW || (screenshotRef.current?.clientWidth ?? 0)\n\t\t\t\t\t\t\tconst containerH = sH || (screenshotRef.current?.clientHeight ?? 0)\n\t\t\t\t\t\t\tif (containerW <= 0 || containerH <= 0) {\n\t\t\t\t\t\t\t\t// Minimal fallback to keep cursor visible before first measurement\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<BrowserCursor\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\t\t\t\ttop: `0px`,\n\t\t\t\t\t\t\t\t\t\t\tleft: `0px`,\n\t\t\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Compute displayed image box within the container for object-fit: contain; objectPosition: top center\n\t\t\t\t\t\t\tconst imgAspect = cursorViewportWidth / cursorViewportHeight\n\t\t\t\t\t\t\tconst containerAspect = containerW / containerH\n\t\t\t\t\t\t\tlet displayW = containerW\n\t\t\t\t\t\t\tlet displayH = containerH\n\t\t\t\t\t\t\tlet offsetX = 0\n\t\t\t\t\t\t\tlet offsetY = 0\n\t\t\t\t\t\t\tif (containerAspect > imgAspect) {\n\t\t\t\t\t\t\t\t// Full height, letterboxed left/right; top aligned\n\t\t\t\t\t\t\t\tdisplayH = containerH\n\t\t\t\t\t\t\t\tdisplayW = containerH * imgAspect\n\t\t\t\t\t\t\t\toffsetX = (containerW - displayW) / 2\n\t\t\t\t\t\t\t\toffsetY = 0\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Full width, potential space below; top aligned\n\t\t\t\t\t\t\t\tdisplayW = containerW\n\t\t\t\t\t\t\t\tdisplayH = containerW / imgAspect\n\t\t\t\t\t\t\t\toffsetX = 0\n\t\t\t\t\t\t\t\toffsetY = 0\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Parse \"x,y\" or \"x,y@widthxheight\" for original basis\n\t\t\t\t\t\t\tconst m = /^\\s*(\\d+)\\s*,\\s*(\\d+)(?:\\s*@\\s*(\\d+)\\s*[x,]\\s*(\\d+))?\\s*$/.exec(\n\t\t\t\t\t\t\t\tdisplayState.mousePosition || \"\",\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconst mx = parseInt(m?.[1] || \"0\", 10)\n\t\t\t\t\t\t\tconst my = parseInt(m?.[2] || \"0\", 10)\n\t\t\t\t\t\t\tconst baseW = m?.[3] ? parseInt(m[3], 10) : cursorViewportWidth\n\t\t\t\t\t\t\tconst baseH = m?.[4] ? parseInt(m[4], 10) : cursorViewportHeight\n\n\t\t\t\t\t\t\tconst leftPx = offsetX + (baseW > 0 ? (mx / baseW) * displayW : 0)\n\t\t\t\t\t\t\tconst topPx = offsetY + (baseH > 0 ? (my / baseH) * displayH : 0)\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<BrowserCursor\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\t\t\ttop: `${topPx}px`,\n\t\t\t\t\t\t\t\t\t\tleft: `${leftPx}px`,\n\t\t\t\t\t\t\t\t\t\tzIndex: 2,\n\t\t\t\t\t\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\t\t\t\t\t\ttransition: \"top 0.15s ease-out, left 0.15s ease-out\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})()}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Browser Action summary moved inline to header; row removed */}\n\n\t\t\t\t{/* Console Logs Section (collapsible, default collapsed) */}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tpadding: \"8px 10px\",\n\t\t\t\t\t\t// Pin logs to bottom of the fullscreen drawer\n\t\t\t\t\t\tmarginTop: fullScreen ? \"auto\" : undefined,\n\t\t\t\t\t}}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\tsetConsoleLogsExpanded((v) => !v)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"text-vscode-editor-foreground/70 hover:text-vscode-editor-foreground transition-colors\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tgap: \"8px\",\n\t\t\t\t\t\t\tmarginBottom: consoleLogsExpanded ? \"6px\" : 0,\n\t\t\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<SquareTerminal className=\"w-3\" />\n\t\t\t\t\t\t<span className=\"text-xs\" style={{ fontWeight: 500 }}>\n\t\t\t\t\t\t\t{t(\"chat:browser.consoleLogs\")}\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t{/* Log type indicators */}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\tstyle={{ display: \"flex\", alignItems: \"center\", gap: 6, marginLeft: \"auto\" }}>\n\t\t\t\t\t\t\t{logTypeMeta.map(({ key, label }) => {\n\t\t\t\t\t\t\t\tconst isAll = key === \"all\"\n\t\t\t\t\t\t\t\tconst count = isAll\n\t\t\t\t\t\t\t\t\t? (Object.values(parsedLogs.counts) as number[]).reduce((a, b) => a + b, 0)\n\t\t\t\t\t\t\t\t\t: parsedLogs.counts[key as \"debug\" | \"info\" | \"warn\" | \"error\" | \"log\"]\n\t\t\t\t\t\t\t\tconst isActive = logFilter === (key as any)\n\t\t\t\t\t\t\t\tconst disabled = count === 0\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetConsoleLogsExpanded(true)\n\t\t\t\t\t\t\t\t\t\t\tsetLogFilter(\n\t\t\t\t\t\t\t\t\t\t\t\tisAll\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"all\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (prev) => (prev === (key as any) ? \"all\" : (key as any)),\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\ttitle={`${label}: ${count}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tborder: \"1px solid var(--vscode-panel-border)\",\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 999,\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 6px\",\n\t\t\t\t\t\t\t\t\t\t\theight: 18,\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: \"16px\",\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 10,\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"var(--vscode-foreground)\",\n\t\t\t\t\t\t\t\t\t\t\tbackground: isActive\n\t\t\t\t\t\t\t\t\t\t\t\t? \"var(--vscode-editor-selectionBackground)\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"transparent\",\n\t\t\t\t\t\t\t\t\t\t\topacity: disabled ? 0.35 : 0.85,\n\t\t\t\t\t\t\t\t\t\t\tcursor: disabled ? \"not-allowed\" : \"pointer\",\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{label}: {count}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tonClick={() => setConsoleLogsExpanded((v) => !v)}\n\t\t\t\t\t\t\t\tclassName={`codicon codicon-chevron-${consoleLogsExpanded ? \"down\" : \"right\"}`}\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: 6 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{consoleLogsExpanded && (\n\t\t\t\t\t\t<div style={{ marginTop: \"6px\" }}>\n\t\t\t\t\t\t\t<CodeBlock source={logsToShow} language=\"shell\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst browserSessionRow = (\n\t\t<div\n\t\t\tref={containerRef}\n\t\t\tstyle={{\n\t\t\t\tpadding: \"6px 10px\",\n\t\t\t\tbackground: \"var(--vscode-editor-background,transparent)\",\n\t\t\t\theight: \"100%\",\n\t\t\t}}>\n\t\t\t<BrowserSessionHeader />\n\n\t\t\t{/* Expanded drawer content - inline/fullscreen */}\n\t\t\t<BrowserSessionDrawer />\n\t\t</div>\n\t)\n\n\t// Height change effect\n\tuseEffect(() => {\n\t\tconst isInitialRender = prevHeightRef.current === 0\n\t\tif (isLast && rowHeight !== 0 && rowHeight !== Infinity && rowHeight !== prevHeightRef.current) {\n\t\t\tif (!isInitialRender) {\n\t\t\t\tonHeightChange?.(rowHeight > prevHeightRef.current)\n\t\t\t}\n\t\t\tprevHeightRef.current = rowHeight\n\t\t}\n\t}, [rowHeight, isLast, onHeightChange])\n\n\treturn browserSessionRow\n}, deepEqual)\n\nconst BrowserCursor: React.FC<{ style?: React.CSSProperties }> = ({ style }) => {\n\tconst { t } = useTranslation()\n\t// (can't use svgs in vsc extensions)\n\tconst cursorBase64 =\n\t\t\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFaADAAQAAAABAAAAGAAAAADwi9a/AAADGElEQVQ4EZ2VbUiTURTH772be/PxZdsz3cZwC4RVaB8SAjMpxQwSWZbQG/TFkN7oW1Df+h6IRV9C+hCpKUSIZUXOfGM5tAKViijFFEyfZ7Ol29S1Pbdzl8Uw9+aBu91zzv3/nt17zt2DEZjBYOAkKrtFMXIghAWM8U2vMN/FctsxGRMpM7NbEEYNMM2CYUSInlJx3OpawO9i+XSNQYkmk2uFb9njzkcfVSr1p/GJiQKMULVaw2WuBv296UKRxWJR6wxGCmM1EAhSNppv33GBH9qI32cPTAtss9lUm6EM3N7R+RbigT+5/CeosFCZKpjEW+iorS1pb30wDUXzQfHqtD/9L3ieZ2ee1OJCmbL8QHnRs+4uj0wmW4QzrpCwvJ8zGg3JqAmhTLynuLiwv8/5KyND8Q3cEkUEDWu15oJE4KRQJt5hs1rcriGNRqP+DK4dyyWXXm/aFQ+cEpSJ8/LyDGPuEZNOmzsOroUSOqzXG/dtBU4ZysTZYKNut91sNo2Cq6cE9enz86s2g9OCMrFSqVC5hgb32u072W3jKMU90Hb1seC0oUwsB+t92bO/rKx0EFGkgFCnjjc1/gVvC8rE0L+4o63t4InjxwbAJQjTe3qD8QrLkXA4DC24fWtuajp06cLFYSBIFKGmXKPRRmAnME9sPt+yLwIWb9WN69fKoTneQz4Dh2mpPNkvfeV0jjecb9wNAkwIEVQq5VJOds4Kb+DXoAsiVquVwI1Dougpij6UyGYx+5cKroeDEFibm5lWRRMbH1+npmYrq6qhwlQHIbajZEf1fElcqGGFpGg9HMuKzpfBjhytCTMgkJ56RX09zy/ysENTBElmjIgJnmNChJqohDVQqpEfwkILE8v/o0GAnV9F1eEvofVQCbiTBEXOIPQh5PGgefDZeAcjrpGZjULBr/m3tZOnz7oEQWRAQZLjWlEU/XEJWySiILgRc5Cz1DkcAyuBFcnpfF0JiXWKpcolQXizhS5hKAqFpr0MVbgbuxJ6+5xX+P4wNpbqPPrugZfbmIbLmgQR3Aw8QSi66hUXulOFbF73GxqjE5BNXWNeAAAAAElFTkSuQmCC\"\n\n\treturn (\n\t\t<img\n\t\t\tsrc={cursorBase64}\n\t\t\tstyle={{\n\t\t\t\twidth: \"17px\",\n\t\t\t\theight: \"22px\",\n\t\t\t\t...style,\n\t\t\t}}\n\t\t\talt={t(\"chat:browser.cursor\")}\n\t\t\taria-label={t(\"chat:browser.cursor\")}\n\t\t/>\n\t)\n}\n\nexport default BrowserSessionRow\n",
    "import React, { createContext, useContext, useState, useEffect, useCallback } from \"react\"\nimport { ExtensionMessage } from \"@roo/ExtensionMessage\"\n\ninterface BrowserPanelState {\n\tbrowserViewportSize: string\n\tisBrowserSessionActive: boolean\n\tlanguage: string\n}\n\nconst BrowserPanelStateContext = createContext<BrowserPanelState | undefined>(undefined)\n\nexport const BrowserPanelStateProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n\tconst [state, setState] = useState<BrowserPanelState>({\n\t\tbrowserViewportSize: \"900x600\",\n\t\tisBrowserSessionActive: false,\n\t\tlanguage: \"en\",\n\t})\n\n\tconst handleMessage = useCallback((event: MessageEvent) => {\n\t\tconst message: ExtensionMessage = event.data\n\n\t\tswitch (message.type) {\n\t\t\tcase \"state\":\n\t\t\t\tif (message.state) {\n\t\t\t\t\tsetState((prev) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tbrowserViewportSize: message.state?.browserViewportSize || \"900x600\",\n\t\t\t\t\t\tisBrowserSessionActive: message.state?.isBrowserSessionActive || false,\n\t\t\t\t\t\tlanguage: message.state?.language || \"en\",\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"browserSessionUpdate\":\n\t\t\t\tif (message.isBrowserSessionActive !== undefined) {\n\t\t\t\t\tsetState((prev) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\tisBrowserSessionActive: message.isBrowserSessionActive || false,\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"message\", handleMessage)\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"message\", handleMessage)\n\t\t}\n\t}, [handleMessage])\n\n\treturn <BrowserPanelStateContext.Provider value={state}>{children}</BrowserPanelStateContext.Provider>\n}\n\nexport const useBrowserPanelState = () => {\n\tconst context = useContext(BrowserPanelStateContext)\n\tif (context === undefined) {\n\t\tthrow new Error(\"useBrowserPanelState must be used within a BrowserPanelStateProvider\")\n\t}\n\treturn context\n}\n",
    "import React, { useEffect, useState } from \"react\"\nimport { type ClineMessage } from \"@roo-code/types\"\nimport BrowserSessionRow from \"../chat/BrowserSessionRow\"\nimport { TooltipProvider } from \"@src/components/ui/tooltip\"\nimport ErrorBoundary from \"../ErrorBoundary\"\nimport TranslationProvider from \"@src/i18n/TranslationContext\"\nimport { ExtensionMessage } from \"@roo/ExtensionMessage\"\nimport { BrowserPanelStateProvider, useBrowserPanelState } from \"./BrowserPanelStateProvider\"\nimport { vscode } from \"@src/utils/vscode\"\nimport { ExtensionStateContextProvider } from \"@/context/ExtensionStateContext\"\n\ninterface BrowserSessionPanelState {\n\tmessages: ClineMessage[]\n}\n\nconst BrowserSessionPanelContent: React.FC = () => {\n\tconst { browserViewportSize, isBrowserSessionActive } = useBrowserPanelState()\n\tconst [state, setState] = useState<BrowserSessionPanelState>({\n\t\tmessages: [],\n\t})\n\t// Target page index to navigate BrowserSessionRow to\n\tconst [navigateToStepIndex, setNavigateToStepIndex] = useState<number | undefined>(undefined)\n\n\tconst [expandedRows, setExpandedRows] = useState<Record<number, boolean>>({})\n\n\tuseEffect(() => {\n\t\tconst handleMessage = (event: MessageEvent) => {\n\t\t\tconst message: ExtensionMessage = event.data\n\n\t\t\tswitch (message.type) {\n\t\t\t\tcase \"browserSessionUpdate\":\n\t\t\t\t\tif (message.browserSessionMessages) {\n\t\t\t\t\t\tsetState((prev) => ({\n\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\tmessages: message.browserSessionMessages || [],\n\t\t\t\t\t\t}))\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase \"browserSessionNavigate\":\n\t\t\t\t\tif (typeof message.stepIndex === \"number\" && message.stepIndex >= 0) {\n\t\t\t\t\t\tsetNavigateToStepIndex(message.stepIndex)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener(\"message\", handleMessage)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"message\", handleMessage)\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<div className=\"fixed top-0 left-0 right-0 bottom-0 flex flex-col overflow-hidden bg-vscode-editor-background\">\n\t\t\t<BrowserSessionRow\n\t\t\t\tmessages={state.messages}\n\t\t\t\tisLast={true}\n\t\t\t\tlastModifiedMessage={state.messages.at(-1)}\n\t\t\t\tisStreaming={false}\n\t\t\t\tisExpanded={(messageTs: number) => expandedRows[messageTs] ?? false}\n\t\t\t\tonToggleExpand={(messageTs: number) => {\n\t\t\t\t\tsetExpandedRows((prev: Record<number, boolean>) => ({\n\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t[messageTs]: !prev[messageTs],\n\t\t\t\t\t}))\n\t\t\t\t}}\n\t\t\t\tfullScreen={true}\n\t\t\t\tbrowserViewportSizeProp={browserViewportSize}\n\t\t\t\tisBrowserSessionActiveProp={isBrowserSessionActive}\n\t\t\t\tnavigateToPageIndex={navigateToStepIndex}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nconst BrowserSessionPanel: React.FC = () => {\n\t// Ensure the panel receives initial state and becomes \"ready\" without needing a second click\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tvscode.postMessage({ type: \"webviewDidLaunch\" })\n\t\t} catch {\n\t\t\t// Ignore errors during initial launch\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<ExtensionStateContextProvider>\n\t\t\t\t<TooltipProvider>\n\t\t\t\t\t<TranslationProvider>\n\t\t\t\t\t\t<BrowserPanelStateProvider>\n\t\t\t\t\t\t\t<BrowserSessionPanelContent />\n\t\t\t\t\t\t</BrowserPanelStateProvider>\n\t\t\t\t\t</TranslationProvider>\n\t\t\t\t</TooltipProvider>\n\t\t\t</ExtensionStateContextProvider>\n\t\t</ErrorBoundary>\n\t)\n}\n\nexport default BrowserSessionPanel\n",
    "import { StrictMode } from \"react\"\nimport { createRoot } from \"react-dom/client\"\n\nimport \"./index.css\"\nimport BrowserSessionPanel from \"./components/browser-session/BrowserSessionPanel\"\nimport \"../node_modules/@vscode/codicons/dist/codicon.css\"\n\ncreateRoot(document.getElementById(\"root\")!).render(\n\t<StrictMode>\n\t\t<BrowserSessionPanel />\n\t</StrictMode>,\n)\n"
  ],
  "names": [
    "__iconNode",
    "ArrowLeft",
    "createLucideIcon",
    "ChevronsLeft",
    "ChevronsRight",
    "ExternalLink",
    "getBrowserActionText",
    "action",
    "executedCoordinate",
    "coordinate",
    "text",
    "size",
    "viewportWidth",
    "viewportHeight",
    "getViewportCoordinate",
    "coord",
    "getViewportCoordinateShared",
    "prettyKey",
    "getActionIcon",
    "jsx",
    "MousePointerIcon",
    "Keyboard",
    "ArrowDown",
    "ArrowUp",
    "Play",
    "Check",
    "Maximize2",
    "Pointer",
    "BrowserSessionRow",
    "memo",
    "props",
    "messages",
    "isLast",
    "onHeightChange",
    "lastModifiedMessage",
    "onExpandChange",
    "fullScreen",
    "t",
    "useTranslation",
    "prevHeightRef",
    "useRef",
    "consoleLogsExpanded",
    "setConsoleLogsExpanded",
    "useState",
    "nextActionsExpanded",
    "setNextActionsExpanded",
    "logFilter",
    "setLogFilter",
    "screenshotRef",
    "sW",
    "setSW",
    "sH",
    "setSH",
    "useEffect",
    "el",
    "update",
    "r",
    "ro",
    "browserViewportSize",
    "isBrowserSessionActive",
    "extensionState",
    "useExtensionState",
    "defaultMousePosition",
    "isLastApiReqInterrupted",
    "useMemo",
    "lastApiReqStarted",
    "m",
    "info",
    "isBrowsing",
    "pages",
    "result",
    "message",
    "resultMessage",
    "resultData",
    "currentPageIndex",
    "setCurrentPageIndex",
    "hasUserNavigatedRef",
    "didInitIndexRef",
    "prevPagesLengthRef",
    "prevNavigateToPageIndexRef",
    "idx",
    "initialUrl",
    "launchMessage",
    "currentPage",
    "lastPageWithScreenshot",
    "i",
    "lastPageWithMousePositionUpToCurrent",
    "displayState",
    "parsedLogs",
    "counts",
    "byType",
    "line",
    "trimmed",
    "type",
    "logsToShow",
    "arr",
    "logTypeMeta",
    "drawerAspectRatio",
    "cursorViewportWidth",
    "cursorViewportHeight",
    "currentPageAction",
    "_a",
    "lastBrowserActionOverall",
    "isBrowserSessionOpen",
    "isActionRunning",
    "lastBrowserActionResult",
    "totalApiCost",
    "total",
    "data",
    "containerRef",
    "rowHeight",
    "setRowHeight",
    "mounted",
    "setH",
    "h",
    "entries",
    "entry",
    "BrowserSessionHeader",
    "jsxs",
    "Globe",
    "v",
    "nv",
    "ProgressIndicator",
    "pageSize",
    "pageViewportWidth",
    "_b",
    "pageViewportHeight",
    "_c",
    "Fragment",
    "StandardTooltip",
    "Button",
    "vscode",
    "OctagonX",
    "BrowserSessionDrawer",
    "nextIndex",
    "ArrowRight",
    "Copy",
    "containerW",
    "containerH",
    "BrowserCursor",
    "imgAspect",
    "containerAspect",
    "displayW",
    "displayH",
    "offsetX",
    "offsetY",
    "mx",
    "my",
    "baseW",
    "baseH",
    "leftPx",
    "topPx",
    "SquareTerminal",
    "key",
    "label",
    "isAll",
    "count",
    "a",
    "b",
    "isActive",
    "disabled",
    "prev",
    "CodeBlock",
    "browserSessionRow",
    "isInitialRender",
    "deepEqual",
    "style",
    "BrowserPanelStateContext",
    "createContext",
    "BrowserPanelStateProvider",
    "children",
    "state",
    "setState",
    "handleMessage",
    "useCallback",
    "event",
    "useBrowserPanelState",
    "context",
    "useContext",
    "BrowserSessionPanelContent",
    "navigateToStepIndex",
    "setNavigateToStepIndex",
    "expandedRows",
    "setExpandedRows",
    "messageTs",
    "BrowserSessionPanel",
    "ErrorBoundary",
    "ExtensionStateContextProvider",
    "TooltipProvider",
    "TranslationProvider",
    "createRoot",
    "StrictMode"
  ],
  "mappings": "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",
  "x_google_ignoreList": [
    0,
    1,
    2,
    3
  ],
  "sourceRoot": ""
}